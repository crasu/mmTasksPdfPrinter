module.exports = {
  getPropertyValue: function (propertyName, config, defaultValue) {
    if(propertyName && config) {
      var pattern = '^' + propertyName + '=(.*)$',
          regexp = new RegExp(pattern, 'im'),
          results = regexp.exec(config);
      if(results && results[1]) {
        return results[1];
      } else if(defaultValue || defaultValue === "") {
        return defaultValue;
      } else {
        return undefined;
      }
    } else {
      return undefined;
    }
  }
};

/*equal module.exports.getPropertyValue("testproperty", "testproperty=this/is/a/test"), "this/is/a/test", "Extract right Property from Config-String"*/
/*equal module.exports.getPropertyValue("testproperty", "test=another/test/property", "this/is/a/test"), "this/is/a/test", "Return the defaultValue if the Property is not found in the Config-String"*/
/*equal module.exports.getPropertyValue("testproperty", "test=this/is/a/test"), undefined, "Return undefined if the Property is not found in the Config-String and no defaultValue is provided"*/
/*equal module.exports.getPropertyValue("testproperty"), undefined, "Return undefined if the Config-String is not specified"*/
/*equal module.exports.getPropertyValue(), undefined, "Return undefined if the Property is not specified"*/
